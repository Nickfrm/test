(function(){"use strict";var t={6916:function(t,e,i){var s=i(6369),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],o=i(1001),r={},u=(0,o.Z)(r,a,n,!1,null,null,null),l=u.exports,c=i(2631),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("YandexMap",{attrs:{coords:t.coords,zoom:10,"init-without-markers":!0,controls:t.controls,"ymap-class":"yandex-map-box"}},[e("YMapMarker",{attrs:{coords:t.coords,"marker-id":"123"}})],1),e("BottomSheet",{attrs:{state:t.bottomSheetState},on:{"change-state-position":e=>t.changeBottomSheetState(e)}},[e("ViewSlider",{on:{"swipe-on-top":()=>t.changeBottomSheetState(t.BS_CLOSED_STATE),"swipe-on-bottom":()=>t.changeBottomSheetState(t.BS_OPENED_STATE)}})],1)],1)},m=[],d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bottom-sheet"},[e("transition",{attrs:{name:"fade"}},[t.yPositionCurrent<t.yPositionSemiClosed?e("div",{staticClass:"bottom-sheet__overlay",on:{click:function(e){return t.setPosition(t.yPositionClosed)}}}):t._e()]),e("div",{ref:"card",staticClass:"bottom-sheet__card",class:{transitioned:!t.isMoving},style:{top:`${t.yPositionCurrent}px`}},[e("div",{ref:"visible-area"},[e("div",{staticClass:"bottom-sheet__pan-area pan-area",on:{touchstart:e=>t.handleTouchStart(e),touchmove:e=>t.handleTouchMove(e),touchend:()=>t.handleTouchEnd()}},[e("div",{staticClass:"pan-area__bar"})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"bottom-sheet__input",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.query},on:{focus:function(e){return t.setPosition(t.yPositionOpened)},input:function(e){e.target.composing||(t.query=e.target.value)}}})]),e("div",{staticClass:"bottom-sheet__content"},[t._t("default")],2)])],1)},p=[];const v="closed",f="opened",b="semi-closed";var g={props:{state:{type:String,default:""}},data(){return{isMoving:!1,yPositionStart:null,yPositionCurrent:null,height:null,visibleAreaHeight:null,query:""}},mounted(){window.onresize=()=>{this.height=this.$refs.card.getBoundingClientRect().height,this.setPosition(this.yPositionClosed)},this.height=this.$refs.card.getBoundingClientRect().height,this.visibleAreaHeight=this.$refs["visible-area"].getBoundingClientRect().height,this.yPositionCurrent=this.yPositionClosed},watch:{state(){this.setPosition(this.yPositionByState)}},computed:{yPositionSemiClosed(){return.5*(this.height+this.yPositionOpened)},yPositionClosed(){return this.height+this.yPositionOpened-this.visibleAreaHeight},yPositionOpened(){return 100},yPositionByState(){switch(this.state){case f:return this.yPositionOpened;case b:return this.yPositionSemiClosed;case v:return this.yPositionClosed;default:return this.yPositionClosed}},currentStateByPosition(){switch(this.yPositionCurrent){case this.yPositionOpened:return f;case this.yPositionSemiClosed:return b;case this.yPositionClosed:return v;default:return""}}},beforeDestroy(){window.onresize=null},methods:{handleTouchStart(t){this.isMoving=!0,this.yPositionStart=t.targetTouches[0].clientY},handleTouchMove(t){t.targetTouches[0].clientY<=this.yPositionOpened||t.targetTouches[0].clientY>=this.yPositionClosed||(this.yPositionCurrent=t.targetTouches[0].clientY)},handleTouchEnd(){this.isMoving=!1;const t=[this.yPositionOpened,this.yPositionClosed,this.yPositionSemiClosed],e=t.reduce(((t,e)=>Math.abs(e-this.yPositionCurrent)<Math.abs(t-this.yPositionCurrent)?e:t));this.setPosition(e)},setPosition(t){this.yPositionCurrent=t,this.$emit("change-state-position",this.currentStateByPosition)}}},P=g,y=(0,o.Z)(P,d,p,!1,null,null,null),S=y.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"view-slider"},[e("div",{staticClass:"view-slider-tabs"},t._l(t.items,(function(i,s){return e("div",{key:i.id,staticClass:"view-slider-tabs__tab",class:{active:t.currentIndex===s},on:{click:function(e){return t.moveTo(s)}}},[t._v(" "+t._s(i.title)+" ")])})),0),e("div",{ref:"touch-container",staticClass:"view-slider-touch-container",on:{touchstart:e=>t.handleTouchStart(e),touchmove:e=>t.handleTouchMove(e),touchend:()=>t.handleTouchEnd()}},[e("div",{ref:"items-container",staticClass:"view-slider-touch-container__items-container",class:t.transitionClass,style:{transform:t.transformStyle}},t._l(t.items,(function(i){return e("div",{key:i.id,staticClass:"view-slider-touch-container__item",on:{touchend:e=>t.handleExtremePositions(e)}},[e("div",{staticClass:"view-slider-touch-container__content"},[t._v(" "+t._s(i.content)+" ")])])})),0)])])},C=[],T={data(){return{currentIndex:0,maxTranslateX:0,translateXAmount:0,isMoving:!1,startYPosition:null,startXPosition:null,currentYPosition:null,currentXPosition:null,maxDeltaY:0,items:[{id:1,title:"All",content:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Molestias neque, perferendis placeat expedita doloremque incidunt quae fuga recusandae voluptatem eveniet officia, mollitia ullam ex. Nemo, aliquam eos! Adipisci, perferendis nihil cumque voluptatum perspiciatis cum accusamus magnam beatae, autem, animi aut veritatis placeat in nemo nobis necessitatibus minima illum voluptas suscipit! Lorem ipsum dolor sit, amet consectetur adipisicing elit. Molestias neque, perferendis placeat expedita doloremque incidunt quae fuga recusandae voluptatem eveniet officia, mollitia ullam ex. Nemo, aliquam eos! Adipisci, perferendis nihil cumque voluptatum perspiciatis cum accusamus magnam beatae, autem, animi aut veritatis placeat in nemo nobis necessitatibus minima illum voluptas suscipit! Lorem ipsum dolor sit, amet consectetur adipisicing elit. Molestias neque, perferendis placeat expedita doloremque incidunt quae fuga recusandae voluptatem eveniet officia, mollitia ullam ex. Nemo, aliquam eos! Adipisci, perferendis nihil cumque voluptatum perspiciatis cum accusamus magnam beatae, autem, animi aut veritatis placeat in nemo nobis necessitatibus minima illum voluptas suscipit! Lorem ipsum dolor sit, amet consectetur adipisicing elit. Molestias neque, perferendis placeat expedita doloremque incidunt quae fuga recusandae voluptatem eveniet officia, mollitia ullam ex. Nemo, aliquam eos! Adipisci, perferendis nihil cumque voluptatum perspiciatis cum accusamus magnam beatae, autem, animi aut veritatis placeat in nemo nobis necessitatibus minima illum voluptas suscipit!"},{id:2,title:"Places",content:" adipisicing elit. Molestias neque, perferendis placeat expedita doloremque incidunt quae fuga recusandae voluptatem eveniet officia, mollitia ullam ex. Nemo, aliquam eos! Adipisci, perferendis nihil cumque voluptatum perspiciatis cum accusamus magnam beatae, autem, animi aut veritatis placeat in nemo nobis necessitatibus minima illum voluptas suscipit!"},{id:3,title:"Sales",content:"voluptatem eveniet officia, mollitia ullam ex. Nemo, aliquam eos! Adipisci, perferendis nihil cumque voluptatum perspiciatis cum accusamus magnam beatae, autem, animi aut veritatis placeat in nemo nobis necessitatibus minima illum voluptas suscipit!"},{id:4,title:"Maps",content:"voluptatem eveniet officia, mollitia ullam ex. Nemo, aliquam eos! Adipisci, perferendis nihil cumque voluptatum perspiciatis cum accusamus magnam beatae, autem, animi aut veritatis placeat in nemo nobis necessitatibus minima illum voluptas suscipit!"}]}},computed:{transformStyle(){return this.isMoving?this.translateXCurrent:`translateX(${100*-this.currentIndex}vw)`},translateXCurrent(){return`translateX(calc(${100*-this.currentIndex}vw + ${this.translateXAmount}px))`},transitionClass(){return this.isMoving?"transition-initial":"transition-item"},isNextAvailable(){return this.currentIndex<this.items.length-1},isPreviousAvailable(){return this.currentIndex>0},deltaX(){return this.currentXPosition-this.startXPosition},deltaY(){return this.currentYPosition-this.startYPosition}},methods:{handleTouchStart(t){this.isMoving=!0,this.startYPosition=t.targetTouches[0].clientY,this.startXPosition=t.targetTouches[0].clientX},handleTouchMove(t){const e=t.targetTouches;this.currentYPosition=e[e.length-1].clientY,this.currentXPosition=e[e.length-1].clientX;const{translateXAmount:i,isPreviousAvailable:s,isNextAvailable:a,deltaX:n,deltaY:o}=this;Math.abs(o)>Math.abs(this.maxDeltaY)&&(this.maxDeltaY=o),(Math.abs(n)<16||Math.abs(o)-Math.abs(n)>-1)&&!i||!s&&n>0||!a&&n<0||(Math.abs(n)>Math.abs(this.maxTranslateX)&&(this.maxTranslateX=n),this.translateXAmount=n)},handleTouchEnd(){const{translateXAmount:t,maxTranslateX:e,currentIndex:i}=this;Math.abs(t)-Math.abs(e)<-1?(this.isMoving=!1,this.resetTranslate()):t>0?this.moveTo(i-1):t<0&&this.moveTo(i+1)},moveTo(t){t<0||t>this.items.length-1||(this.currentIndex=t,this.resetTranslate())},resetTranslate(){this.isMoving=!1,this.maxTranslateX=0,this.maxDeltaY=0,this.translateXAmount=0},handleExtremePositions(t){const e=t.currentTarget,i=t.currentTarget.firstChild,{deltaY:s,deltaX:a,maxDeltaY:n}=this;Math.abs(s)<16||Math.abs(a)-Math.abs(s)>-1||(Math.abs(s)-Math.abs(n)<-1?this.resetTranslate():(0===e.scrollTop&&this.deltaY>0&&this.$emit("swipe-on-top"),e.offsetHeight+e.scrollTop===i.offsetHeight&&this.deltaY<0&&this.$emit("swipe-on-bottom")))}}},_=T,M=(0,o.Z)(_,x,C,!1,null,null,null),w=M.exports,q=i(4855),A={name:"HomeView",components:{BottomSheet:S,ViewSlider:w,YandexMap:q.xR,YMapMarker:q.Jk},data(){return{BS_OPENED_STATE:f,BS_CLOSED_STATE:v,BS_SEMICLOSED_STATE:b,coords:[55.755865,37.61752],controls:["smallMapDefaultSet"],bottomSheetState:""}},methods:{changeBottomSheetState(t){this.bottomSheetState=t},clearBottomSheetState(){this.bottomSheetState=""}}},X=A,Y=(0,o.Z)(X,h,m,!1,null,null,null),O=Y.exports;s.ZP.use(c.Z);const E=[{path:"/",name:"home",component:O}],B=new c.Z({mode:"history",base:"/test_bottomsheet/",routes:E});var k=B,D=i(3822);s.ZP.use(D.ZP);var N=new D.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});s.ZP.config.productionTip=!1,new s.ZP({router:k,store:N,render:t=>t(l)}).$mount("#app")}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,s,a,n){if(!s){var o=1/0;for(c=0;c<t.length;c++){s=t[c][0],a=t[c][1],n=t[c][2];for(var r=!0,u=0;u<s.length;u++)(!1&n||o>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[u])}))?s.splice(u--,1):(r=!1,n<o&&(o=n));if(r){t.splice(c--,1);var l=a();void 0!==l&&(e=l)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,a,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,o=s[0],r=s[1],u=s[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(u)var c=u(i)}for(e&&e(s);l<o.length;l++)n=o[l],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(c)},s=self["webpackChunktest"]=self["webpackChunktest"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(6916)}));s=i.O(s)})();
//# sourceMappingURL=app.c1543129.js.map